<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Teamuitje</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 800px; margin: auto; }
  h2 { margin-top: 30px; }
  .rubriek { margin-bottom: 20px; display: none; }
  .rubriek.active { display: block; }
  .vraag { margin-bottom: 10px; }
  input, textarea { width: 100%; padding: 5px; margin-top: 3px; }
  button { padding: 10px 20px; font-size: 16px; margin-top: 20px; }
  /* Voortgangsbalk */
  #progressContainer { width: 100%; background-color: #ddd; margin-bottom: 20px; }
  #progressBar { width: 0%; height: 20px; background-color: #4CAF50; text-align: center; color: white; line-height: 20px; }
</style>
</head>
<body>

<h1>Jouw input voor het teamuitje</h1>

<!-- Voortgangsbalk -->
<div id="progressContainer">
  <div id="progressBar">0%</div>
</div>

<form id="quizForm">

  <!-- Rubriek 0: Persoonlijke info -->
  <div class="rubriek active" id="rubriek0">
    <h2>Persoonlijke info</h2>
    <div class="vraag"><label>Voornaam:</label><input type="text" id="voornaam" required></div>
    <div class="vraag"><label>Achternaam:</label><input type="text" id="achternaam" required></div>
    <button type="button" onclick="nextRubriek(0)">Volgende</button>
  </div>

  <!-- Rubriek 1: Over mij -->
  <div class="rubriek" id="rubriek1">
    <h2>Rubriek 1: Over mij</h2>
    <div class="vraag"><label>Waar kunnen we je het hardst mee aan het lachen maken?</label><textarea id="vraag1"></textarea></div>
    <div class="vraag"><label>Wat staat in je geheugen gegrift, maar ben je liever kwijt dan rijk?</label><textarea id="vraag2"></textarea></div>
    <div class="vraag"><label>Welke uitspraak zegt alles over jou?</label><textarea id="vraag3"></textarea></div>
    <div class="vraag"><label>Wat vind jij jouw meest ideale leeftijd?</label><textarea id="vraag4"></textarea></div>
    <div class="vraag"><label>Wat is je favoriete dag van de week?</label><textarea id="vraag5"></textarea></div>
    <div class="vraag"><label>Hoe ziet jouw ochtendroutine eruit?</label><textarea id="vraag6"></textarea></div>
    <div class="vraag"><label>Heb je een motto of spreuk die je veel gebruikt of volgt?</label><textarea id="vraag7"></textarea></div>
    <div class="vraag"><label>Van welke gewoonte wil je eigenlijk af, maar lukt je nog niet?</label><textarea id="vraag8"></textarea></div>
    <button type="button" onclick="nextRubriek(1)">Volgende</button>
  </div>

  <!-- Rubriek 2: Top secret -->
  <div class="rubriek" id="rubriek2">
    <h2>Rubriek 2: Top secret</h2>
    <div class="vraag"><label>Welke privÃ©zaken zou je niet zo snel met je collegaâ€™s delen?</label><textarea id="vraag9"></textarea></div>
    <div class="vraag"><label>Wat heb je als kind altijd graag willen hebben maar kreeg je niet?</label><textarea id="vraag10"></textarea></div>
    <div class="vraag"><label>Wat is het meest genante wat je ooit is overkomen?</label><textarea id="vraag11"></textarea></div>
    <div class="vraag"><label>Wat is je meest foute/domste aankoop ooit geweest?</label><textarea id="vraag12"></textarea></div>
    <div class="vraag"><label>Wat is het vreemdste excuus dat je ooit hebt gebruikt om niet te gaan werken?</label><textarea id="vraag13"></textarea></div>
    <div class="vraag"><label>Wat is het meest criminele wat je ooit hebt gedaan?</label><textarea id="vraag14"></textarea></div>
    <button type="button" onclick="nextRubriek(2)">Volgende</button>
  </div>

  <!-- Rubriek 3: Vrije tijd -->
  <div class="rubriek" id="rubriek3">
    <h2>Rubriek 3: Vrije tijd</h2>
    <div class="vraag"><label>Met welke hobby kan je echt volledig de tijd vergeten?</label><textarea id="vraag15"></textarea></div>
    <div class="vraag"><label>Welke sport beoefen je graag?</label><textarea id="vraag16"></textarea></div>
    <div class="vraag"><label>Wat is het beste concert dat je ooit bezocht hebt?</label><textarea id="vraag17"></textarea></div>
    <div class="vraag"><label>Hoe ziet jouw perfecte niet-werkdag eruit?</label><textarea id="vraag18"></textarea></div>
    <div class="vraag"><label>Welke film zou je graag opnieuw voor het eerst willen zien?</label><textarea id="vraag19"></textarea></div>
    <div class="vraag"><label>Met welke hobby zou je starten als tijd en geld geen rol zou spelen?</label><textarea id="vraag20"></textarea></div>
    <button type="button" onclick="nextRubriek(3)">Volgende</button>
  </div>

  <!-- Rubriek 4: Waardevol -->
  <div class="rubriek" id="rubriek4">
    <h2>Rubriek 4: Waardevol</h2>
    <div class="vraag"><label>Wat helpt je om je beter te voelen als je niet lekker in je vel zit?</label><textarea id="vraag21"></textarea></div>
    <div class="vraag"><label>Wat is het leukste moment geweest in je leven, wat je zo weer opnieuw mee zou willen maken?</label><textarea id="vraag22"></textarea></div>
    <div class="vraag"><label>Wat is de mooiste vakantie die je ooit hebt gehad?</label><textarea id="vraag23"></textarea></div>
    <div class="vraag"><label>Welk advies over de â€˜echte wereldâ€™ zou je geven aan je jongere zelf?</label><textarea id="vraag24"></textarea></div>
    <div class="vraag"><label>Waar zou je meer tijd en aandacht voor vrij willen maken?</label><textarea id="vraag25"></textarea></div>
    <div class="vraag"><label>Welke Pickwick-vraag zou jij graag willen toevoegen aan iedere theedoos?</label><textarea id="vraag26"></textarea></div>
    <button type="button" onclick="nextRubriek(4)">Volgende</button>
  </div>

  <!-- Rubriek 5: Wat alsâ€¦ -->
  <div class="rubriek" id="rubriek5">
    <h2>Rubriek 5: Wat alsâ€¦</h2>
    <div class="vraag"><label>Wat zou je over jezelf schrijven als je een profiel zou aanmaken op een datingsite?</label><textarea id="vraag27"></textarea></div>
    <div class="vraag"><label>Welke slechte gewoonte zou je oppakken als het niet meer slecht zou zijn?</label><textarea id="vraag28"></textarea></div>
    <div class="vraag"><label>Als je een nacht op je werk kon blijven slapen, waar zou je slapen?</label><textarea id="vraag29"></textarea></div>
    <div class="vraag"><label>Als je maar 2 uur per week mag werken, wat zou je dan doen?</label><textarea id="vraag30"></textarea></div>
    <div class="vraag"><label>Als je een deel van je huis zou verbouwen, wat zou het zijn en waarom?</label><textarea id="vraag31"></textarea></div>
    <div class="vraag"><label>Als je met iemand een maand mocht ruilen van leven en werk, wie zou dat zijn?</label><textarea id="vraag32"></textarea></div>
    <div class="vraag"><label>Als je niet hier zou wonen, in welk land zou je het liefst stranden?</label><textarea id="vraag33"></textarea></div>
    <div class="vraag"><label>Als je werk moet kiezen waarbij je geen computer meer zou mogen gebruiken, wat zou het dan zijn?</label><textarea id="vraag34"></textarea></div>
    <button type="button" onclick="nextRubriek(5)">Volgende</button>
  </div>

  <!-- Rubriek 6: Werk -->
  <div class="rubriek" id="rubriek6">
    <h2>Rubriek 6: Werk</h2>
    <div class="vraag"><label>Welk werk zou je willen doen als je weer helemaal opnieuw zou beginnen?</label><textarea id="vraag35"></textarea></div>
    <div class="vraag"><label>Wat denken anderen dat je heel goed kunt, maar dat jij eigenlijk best spannend vindt?</label><textarea id="vraag36"></textarea></div>
    <div class="vraag"><label>Welke werkzaamheden zou je doen, ook als je er niet voor betaald zou worden?</label><textarea id="vraag37"></textarea></div>
    <div class="vraag"><label>Wat is je grootste blunder op de werkvloer geweest?</label><textarea id="vraag38"></textarea></div>
    <div class="vraag"><label>Tegen welke werkzaamheden of activiteiten zou je het liefst â€˜neeâ€™ willen zeggen?</label><textarea id="vraag39"></textarea></div>
    <div class="vraag"><label>Wat vind je het verschrikkelijkste om te doen tijdens een team-uitje?</label><textarea id="vraag40"></textarea></div>
    <button type="submit">Verstuur Quiz</button>
  </div>

</form>

<script>
const totalRubrieken = 6; // exclusief persoonlijke info

// Update voortgangsbalk
function updateProgress(currentRubriek) {
  const percent = Math.round((currentRubriek / totalRubrieken) * 100);
  const bar = document.getElementById('progressBar');
  bar.style.width = percent + '%';
  bar.textContent = percent + '%';
}

// Functie om naar de volgende rubriek te gaan
function nextRubriek(current) {
  const rubriek = document.getElementById('rubriek'+current);
  const textareas = rubriek.querySelectorAll('textarea');
  let answered = Array.from(textareas).some(t => t.value.trim() !== '');
  
  if(current === 0) answered = document.getElementById('voornaam').value.trim() !== '' && document.getElementById('achternaam').value.trim() !== '';

  if(!answered) {
    alert('Vul minstens Ã©Ã©n veld in deze rubriek in voordat je verdergaat.');
    return;
  }

  rubriek.classList.remove('active');
  const next = document.getElementById('rubriek'+(current+1));
  if(next) next.classList.add('active');
  updateProgress(current);
}

// Verzenden van formulier
document.getElementById('quizForm').addEventListener('submit', function(e){
  e.preventDefault();

  const formData = {
    voornaam: document.getElementById('voornaam').value,
    achternaam: document.getElementById('achternaam').value
  };

  for(let i=1; i<=40; i++){
    formData['vraag'+i] = document.getElementById('vraag'+i).value;
  }

  fetch('https://script.google.com/macros/s/AKfycbyYMBHjV9t4aFRMLZfkrX4YeraTGEpXNa-dsQ0iDXymlivANI3wMnAsdRvQsB0jkG2x/exec', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify(formData)
  })
  .then(response => response.json())
  .then(data => {
    if(data.result === "success"){
      alert('Je inzending is succesvol verstuurd! ðŸŽ‰');
      document.getElementById('quizForm').reset();
      document.querySelectorAll('.rubriek').forEach(r => r.classList.remove('active'));
      document.getElementById('rubriek0').classList.add('active');
      updateProgress(0);
    } else {
      alert('Er is een fout opgetreden: ' + data.message);
      console.error('Serverfout:', data);
    }
  })
  .catch(error => {
    alert('Er ging iets mis bij het versturen. Bekijk de console voor details.');
    console.error('Fetch-fout:', error);
  });
});

// Init voortgangsbalk
updateProgress(0);
</script>

</body>
</html>
